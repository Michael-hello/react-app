var h=Object.defineProperty;var y=(n,o,r)=>o in n?h(n,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[o]=r;var a=(n,o,r)=>y(n,typeof o!="symbol"?o+"":o,r);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();class g{constructor(){a(this,"latitude",null);a(this,"longitude",null);a(this,"last_update",null);a(this,"locations",[])}parseJsonResponse(o){if(o==null)return;let l=JSON.parse(o).record,e=l==null?null:l.locations;if(e!=null){this.locations=[];for(let t=0;t<e.length;t++){let s=e[t];this.locations.push({latitude:Number(s.latitude),longitude:Number(s.longitude),id:s.string,time:Number(s.time)})}this.updateView()}}updateView(){const o=document.querySelector("#span1"),r=document.querySelector("#span2"),l=document.querySelector("#hyper");l.style.display="none";let e="Last update: NA.",t="Current location: NA",s="";if(this.locations&&this.locations.length>0){let c=this.locations.sort((f,m)=>m.time-f.time)[0],d=new Date(c.time).toLocaleString(),p=`${c.latitude}, ${c.longitude}`;e=`Last update: ${d}.`,t=`Current location: ${p}`,s=`https://maps.google.com/?q=${c.latitude}, ${c.longitude}`,l.style.display="block"}o.textContent=e,r.textContent=t,l.href=s}}let i=new XMLHttpRequest;const u=new g,b="67f8c9fd8a456b7966871939",L="$2a$10$51hMVK0Z6OfHAnzvMsfMV.T1d0LVjQcJSHyXOXNa9GgEJ20cM./h2";u.updateView();try{i.onreadystatechange=()=>{i.readyState==XMLHttpRequest.DONE&&i.status==200&&(console.log(i.responseText),u.parseJsonResponse(i.responseText))},i.open("GET",`https://api.jsonbin.io/v3/b/${b}/latest`,!0),i.setRequestHeader("X-Access-Key",L),i.send()}catch(n){console.log("UNABLE TO PROCESS GET REQ: "+n)}
